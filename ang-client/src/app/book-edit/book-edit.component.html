<div class="container wrapper" *ngIf="booking">
    
    <form class="my-form" [formGroup]="form" (ngSubmit)="onFormSubmit()">
      <h4 class="display-4">Booking Details</h4>  
        <div class="form-group">
            <label for="reference">Reference Number</label>
            <input type="text" readonly class="form-control" id="reference" name="reference" [value]="booking.reference">
          </div>

          <div class="form-group">
            <label for="status">Status</label>
            <input type="text" readonly class="form-control" id="status" name="status" [value]="booking.status">
          </div>

        <div class="form-group">
            <label style="display: block;">Dates</label>
            <input type="date" name="dateFrom" required formControlName="dateFrom">
            <input type="date" name="dateTo" required formControlName="dateTo">
        </div>
    
        <div class="form-group">
            <label for="guests">Guests</label>
            <input type="number" class="form-control" id="guests" min="1" name="guests" formControlName="guests">
          </div>

          <div class="form-group">
            <label for="contactName">Contant Name</label>
            <input type="text" class="form-control" id="contactName" name="contactName" formControlName="contactName">
          </div>

          <div class="form-group">
            <label for="phone">Phone</label>
            <input type="text" class="form-control" id="phone" name="phone" formControlName="phone">
          </div>

        <div class="alert alert-danger my-3" role="alert" *ngIf="error">
            {{ error }}
          </div>

      <button class="btn btn-success mt-2" [disabled]="!form.valid"><i class="fa fa-edit"></i>  Request Changes</button>

    </form>

    <div>
      <h4 class="display-4">Messages</h4>
      <div *ngFor="let note of notes;" class="card">
        <div class="card-header">
          {{ note.user }}
        </div>
        <div class="card-body">
          <blockquote class="blockquote mb-0">
            <p>{{ note.note }}</p>
            <footer class="blockquote-footer">{{ note.date | date:'medium' }}</footer>
          </blockquote>
        </div>
      </div>
      <br>
      <form role="form" id="contact-form" class="contact-form" >
          <div class="form-group">
            <textarea [(ngModel)]="message" class="form-control textarea" rows="3" name="Message" id="Message" placeholder="Message"></textarea>
          </div>
          <button type="submit" class="btn main-btn pull-left" [disabled]="!message" (click)='submitMessage()'><i class="fa fa-send-o"></i>Send</button>
    </form>
    <button type="submit" class="btn main-btn" (click)='fetchNotes()'><i class="fa fa-refresh"></i> Load Messages</button>
    </div>

  </div>